
<!DOCTYPE html>
<html lang="en">
<head>
        <title>How to contribute to scikit-image &mdash; skimage v0.17.2 docs</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link href="_static/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="_static/css/custom.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
        <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
        <link rel="stylesheet" href="_static/gallery-binder.css" type="text/css" />
        <link rel="stylesheet" href="_static/gallery-dataframe.css" type="text/css" />
    
    <script src="https://code.jquery.com/jquery-latest.js"></script>
    <script src="_static/js/bootstrap.min.js"></script>
    <script src="_static/js/togglebutton.js"></script>
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.17.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <link rel="index" title="Index" href="genindex.html" />
        <link rel="search" title="Search" href="search.html" />
        <link rel="top" title="skimage v0.17.2 docs" href="index.html" />
        <link rel="next" title="Working with scikit-image source code" href="gitwash/index.html" />
        <link rel="prev" title="Glossary" href="glossary.html" />
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <link rel="shortcut icon" href="_static/favicon.ico">
</head>
<body class="container">
    <a href="https://scikit-image.org" class="logo"><img src="_static/img/logo.png" alt=""></a>
    <div class="clearfix"></div>
    <div class="navbar">
        <div class="navbar-inner">
            <ul class="nav">
                <li><a href="/docs/stable/install.html">Download</a></li>
<li><a href="auto_examples/index.html">Gallery</a></li>
<li><a href="index.html">Documentation</a></li>
<li><a href="/community_guidelines.html">Community Guidelines</a></li>

<li><a href="https://github.com/scikit-image/scikit-image">
    <img src="_static/GitHub-Mark-32px.png"
        style="height: 15px; width: 15px;
               display: inline; float: none;
               padding-bottom: 3px;">
    Source</a>
</li>
            </ul>
        </div>
    </div>
    <div class="row">
        <div class="span3"><div style="padding-bottom: 3em">
  <form class="navbar-form pull-right" action="search.html" method="get">
    <input type="text" class="search span3" name="q" placeholder="Search documentation ...">
    <input type="hidden" name="check_keywords" value="yes" >
    <input type="hidden" name="area" value="default" >
  </form>
</div><!-- 
        <h4 class="sidebar-box-heading">Contents</h4>
        <div class="well sidebar-box toc">
            <ul class="nav nav-list">
<li><a class="reference internal" href="#">How to contribute to scikit-image</a><ul class="nav nav-list">
<li><a class="reference internal" href="#development-process">Development process</a></li>
<li><a class="reference internal" href="#divergence-between-upstream-master-and-your-feature-branch">Divergence between <code class="docutils literal notranslate"><span class="pre">upstream</span> <span class="pre">master</span></code> and your feature branch</a></li>
<li><a class="reference internal" href="#build-environment-setup">Build environment setup</a></li>
</ul>
</li>
<li><a class="reference internal" href="#venv">venv</a></li>
<li><a class="reference internal" href="#conda">conda</a><ul class="nav nav-list">
<li><a class="reference internal" href="#guidelines">Guidelines</a></li>
<li><a class="reference internal" href="#stylistic-guidelines">Stylistic Guidelines</a></li>
<li><a class="reference internal" href="#testing">Testing</a></li>
<li><a class="reference internal" href="#test-coverage">Test coverage</a></li>
<li><a class="reference internal" href="#activate-travis-ci-for-your-fork-optional">Activate Travis-CI for your fork (optional)</a></li>
<li><a class="reference internal" href="#building-docs">Building docs</a><ul class="nav nav-list">
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#fixing-warnings">Fixing Warnings</a></li>
<li><a class="reference internal" href="#auto-generating-dev-docs">Auto-generating dev docs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deprecation-cycle">Deprecation cycle</a></li>
<li><a class="reference internal" href="#bugs">Bugs</a></li>
<li><a class="reference internal" href="#benchmarks">Benchmarks</a><ul class="nav nav-list">
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#writing-a-benchmark">Writing a benchmark</a></li>
<li><a class="reference internal" href="#testing-the-benchmarks-locally">Testing the benchmarks locally</a></li>
<li><a class="reference internal" href="#running-your-benchmark">Running your benchmark</a></li>
<li><a class="reference internal" href="#comparing-results-to-master">Comparing results to master</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>


 --><div class="well">
    <strong>Docs for 0.17.2<br></strong>

    <a id="other">All versions</a>

    <ul id="versionList" style="display: none;">
        <script src="./../dev/_static/docversions.js"></script>
        <script type="text/javascript">
            insert_version_links();
        </script>
    </ul>

 </div>

<script type="text/javascript">
	$("#other").click(function() {
		$("#versionList").toggle();
	});
</script>
        </div>
        <div class="span9" class="body" role="main">
            
  <div class="toctree-wrapper compound">
</div>
<div class="section" id="how-to-contribute-to-scikit-image">
<span id="howto-contribute"></span><h1>How to contribute to scikit-image<a class="headerlink" href="#how-to-contribute-to-scikit-image" title="Permalink to this headline">¶</a></h1>
<p>Developing Open Source is great fun!  Join us on the <a class="reference external" href="https://mail.python.org/mailman3/lists/scikit-image.python.org/">scikit-image mailing
list</a> and tell us
which of the following challenges you’d like to solve.</p>
<ul class="simple">
<li><p>Mentoring is available for those new to scientific programming in Python.</p></li>
<li><p>If you’re looking for something to implement, you can find a list of
<a class="reference external" href="https://github.com/scikit-image/scikit-image/wiki/Requested-features">requested features on GitHub</a>.
In addition, you can browse the
<a class="reference external" href="https://github.com/scikit-image/scikit-image/issues?q=is%3Aopen">open issues on GitHub</a>.</p></li>
<li><p>The technical detail of the <a class="reference internal" href="#development-process">development process</a> is summed up below.
Refer to the <a class="reference internal" href="gitwash/index.html"><span class="doc">gitwash</span></a> for a step-by-step tutorial.</p></li>
</ul>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#development-process" id="id2">Development process</a></p></li>
<li><p><a class="reference internal" href="#divergence-between-upstream-master-and-your-feature-branch" id="id3">Divergence between <code class="docutils literal notranslate"><span class="pre">upstream</span> <span class="pre">master</span></code> and your feature branch</a></p></li>
<li><p><a class="reference internal" href="#build-environment-setup" id="id4">Build environment setup</a></p></li>
</ul>
</div>
<div class="section" id="development-process">
<h2><a class="toc-backref" href="#id2">Development process</a><a class="headerlink" href="#development-process" title="Permalink to this headline">¶</a></h2>
<p>Here’s the long and short of it:</p>
<ol class="arabic">
<li><p>If you are a first-time contributor:</p>
<ul>
<li><p>Go to <a class="reference external" href="https://github.com/scikit-image/scikit-image">https://github.com/scikit-image/scikit-image</a> and click the
“fork” button to create your own copy of the project.</p></li>
<li><p>Clone the project to your local computer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">your</span><span class="o">-</span><span class="n">username</span><span class="o">/</span><span class="n">scikit</span><span class="o">-</span><span class="n">image</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</li>
<li><p>Change the directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">scikit</span><span class="o">-</span><span class="n">image</span>
</pre></div>
</div>
</li>
<li><p>Add the upstream repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">upstream</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">scikit</span><span class="o">-</span><span class="n">image</span><span class="o">/</span><span class="n">scikit</span><span class="o">-</span><span class="n">image</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</li>
<li><p>Now, you have remote repositories named:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">upstream</span></code>, which refers to the <code class="docutils literal notranslate"><span class="pre">scikit-image</span></code> repository</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">origin</span></code>, which refers to your personal fork</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Develop your contribution:</p>
<ul>
<li><p>Pull the latest changes from upstream:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
<span class="n">git</span> <span class="n">pull</span> <span class="n">upstream</span> <span class="n">master</span>
</pre></div>
</div>
</li>
<li><p>Create a branch for the feature you want to work on. Since the
branch name will appear in the merge message, use a sensible name
such as ‘transform-speedups’:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">transform</span><span class="o">-</span><span class="n">speedups</span>
</pre></div>
</div>
</li>
<li><p>Commit locally as you progress (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>)</p></li>
</ul>
</li>
<li><p>To submit your contribution:</p>
<ul>
<li><p>Push your changes back to your fork on GitHub:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">transform</span><span class="o">-</span><span class="n">speedups</span>
</pre></div>
</div>
</li>
<li><p>Enter your GitHub username and password (repeat contributors or advanced
users can remove this step by <a class="reference external" href="https://help.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh">connecting to GitHub with SSH</a>).</p></li>
<li><p>Go to GitHub. The new branch will show up with a green Pull Request
button - click it.</p></li>
<li><p>If you want, post on the <a class="reference external" href="https://mail.python.org/mailman3/lists/scikit-image.python.org/">mailing list</a> to explain your changes or
to ask for review.</p></li>
</ul>
</li>
</ol>
<p>For a more detailed discussion, read these <a class="reference internal" href="gitwash/index.html"><span class="doc">detailed documents</span></a> on how to use Git with <code class="docutils literal notranslate"><span class="pre">scikit-image</span></code>
(<a class="reference external" href="https://scikit-image.org/docs/dev/gitwash/index.html">https://scikit-image.org/docs/dev/gitwash/index.html</a>).</p>
<ol class="arabic" start="4">
<li><p>Review process:</p>
<ul class="simple">
<li><p>Reviewers (the other developers and interested community members) will
write inline and/or general comments on your Pull Request (PR) to help
you improve its implementation, documentation, and style.  Every single
developer working on the project has their code reviewed, and we’ve come
to see it as a friendly conversation from which we all learn and the
overall code quality benefits.  Therefore, please don’t let the review
discourage you from contributing: its only aim is to improve the quality
of the project, not to criticize (we are, after all, very grateful for the
time you’re donating!).</p></li>
<li><p>To update your pull request, make your changes on your local repository
and commit. As soon as those changes are pushed up (to the same branch as
before) the pull request will update automatically.</p></li>
<li><p><a class="reference external" href="https://travis-ci.org/">Travis-CI</a>, a continuous integration service,
is triggered after each Pull Request update to build the code, run unit
tests, measure code coverage and check coding style (PEP8) of your
branch. The Travis tests must pass before your PR can be merged. If
Travis fails, you can find out why by clicking on the “failed” icon (red
cross) and inspecting the build and test log.</p></li>
<li><p>A pull request must be approved by two core team members before merging.</p></li>
</ul>
</li>
<li><p>Document changes</p>
<p>If your change introduces any API modifications, please update
<code class="docutils literal notranslate"><span class="pre">doc/source/api_changes.txt</span></code>.</p>
<p>If your change introduces a deprecation, add a reminder to <code class="docutils literal notranslate"><span class="pre">TODO.txt</span></code>
for the team to remove the deprecated functionality in the future.</p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To reviewers: if it is not obvious from the PR description, add a short
explanation of what a branch did to the merge message and, if closing a
bug, also add “Closes #123” where 123 is the issue number.</p>
</div>
</div>
<div class="section" id="divergence-between-upstream-master-and-your-feature-branch">
<h2><a class="toc-backref" href="#id3">Divergence between <code class="docutils literal notranslate"><span class="pre">upstream</span> <span class="pre">master</span></code> and your feature branch</a><a class="headerlink" href="#divergence-between-upstream-master-and-your-feature-branch" title="Permalink to this headline">¶</a></h2>
<p>If GitHub indicates that the branch of your Pull Request can no longer
be merged automatically, merge the master branch into yours:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">fetch</span> <span class="n">upstream</span> <span class="n">master</span>
<span class="n">git</span> <span class="n">merge</span> <span class="n">upstream</span><span class="o">/</span><span class="n">master</span>
</pre></div>
</div>
<p>If any conflicts occur, they need to be fixed before continuing.  See
which files are in conflict using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
<p>Which displays a message like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Unmerged</span> <span class="n">paths</span><span class="p">:</span>
  <span class="p">(</span><span class="n">use</span> <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> <span class="n">to</span> <span class="n">mark</span> <span class="n">resolution</span><span class="p">)</span>

  <span class="n">both</span> <span class="n">modified</span><span class="p">:</span>   <span class="n">file_with_conflict</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Inside the conflicted file, you’ll find sections like these:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span> <span class="n">HEAD</span>
<span class="n">The</span> <span class="n">way</span> <span class="n">the</span> <span class="n">text</span> <span class="n">looks</span> <span class="ow">in</span> <span class="n">your</span> <span class="n">branch</span>
<span class="o">=======</span>
<span class="n">The</span> <span class="n">way</span> <span class="n">the</span> <span class="n">text</span> <span class="n">looks</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">master</span> <span class="n">branch</span>
<span class="o">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span> <span class="n">master</span>
</pre></div>
</div>
<p>Choose one version of the text that should be kept, and delete the
rest:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">way</span> <span class="n">the</span> <span class="n">text</span> <span class="n">looks</span> <span class="ow">in</span> <span class="n">your</span> <span class="n">branch</span>
</pre></div>
</div>
<p>Now, add the fixed file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">add</span> <span class="n">file_with_conflict</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Once you’ve fixed all merge conflicts, do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">commit</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Advanced Git users are encouraged to <a class="reference external" href="https://scikit-image.org/docs/dev/gitwash/development_workflow.html#rebasing-on-trunk">rebase instead of merge</a>,
but we squash and merge most PRs either way.</p>
</div>
</div>
<div class="section" id="build-environment-setup">
<h2><a class="toc-backref" href="#id4">Build environment setup</a><a class="headerlink" href="#build-environment-setup" title="Permalink to this headline">¶</a></h2>
<p>Once you’ve cloned your fork of the scikit-image repository,
you should set up a Python development environment tailored for scikit-image.
You may choose the environment manager of your choice.
Here we provide instructions for two popular environment managers:
<code class="docutils literal notranslate"><span class="pre">venv</span></code> (pip based) and <code class="docutils literal notranslate"><span class="pre">conda</span></code> (Anaconda or Miniconda).</p>
</div>
</div>
<div class="section" id="venv">
<h1>venv<a class="headerlink" href="#venv" title="Permalink to this headline">¶</a></h1>
<p>When using <code class="docutils literal notranslate"><span class="pre">venv</span></code>, you may find the following bash commands useful:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a virtualenv named ``skimage-dev`` that lives in the directory of</span>
<span class="c1"># the same name</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">venv</span> <span class="n">skimage</span><span class="o">-</span><span class="n">dev</span>
<span class="c1"># Activate it. On Linux and MacOS:</span>
<span class="n">source</span> <span class="n">skimage</span><span class="o">-</span><span class="n">dev</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
<span class="c1"># Install all development and runtime dependencies of scikit-image</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="o">&lt;</span><span class="p">(</span><span class="n">cat</span> <span class="n">requirements</span><span class="o">/*.</span><span class="n">txt</span><span class="p">)</span>
<span class="c1"># Build and install scikit-image from source</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
<span class="c1"># Test your installation</span>
<span class="n">pytest</span> <span class="n">skimage</span>
</pre></div>
</div>
<p>On Windows, please use <code class="docutils literal notranslate"><span class="pre">skimage-dev\Scripts\activate</span></code> on the activation step.</p>
</div>
<div class="section" id="conda">
<h1>conda<a class="headerlink" href="#conda" title="Permalink to this headline">¶</a></h1>
<p>When using conda, you may find the following bash commands useful:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># Create a conda environment named ``skimage-dev``
conda create --name skimage-dev
# Activate it
conda activate skimage-dev
# Install major development and runtime dependencies of scikit-image
# (the rest can be installed from conda-forge or pip, if needed)
conda install `for i in requirements/{default,build}.txt; do echo -n &quot; --file $i &quot;; done`
# Install minimal testing dependencies
conda install pytest
# Install scikit-image from source
pip install -e . --no-deps
# Test your installation
pytest skimage
</pre></div>
</div>
<div class="section" id="guidelines">
<h2>Guidelines<a class="headerlink" href="#guidelines" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>All code should have tests (see <a class="reference internal" href="#test-coverage">test coverage</a> below for more details).</p></li>
<li><p>All code should be documented, to the same
<a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard">standard</a> as NumPy and SciPy.</p></li>
<li><p>For new functionality, always add an example to the gallery.</p></li>
<li><p>No changes are ever committed without review and approval by two core
team members.  Ask on the
<a class="reference external" href="https://mail.python.org/mailman3/lists/scikit-image.python.org/">mailing list</a> if
you get no response to your pull request.
<strong>Never merge your own pull request.</strong></p></li>
<li><p>Examples in the gallery should have a maximum figure width of 8 inches.</p></li>
</ul>
</div>
<div class="section" id="stylistic-guidelines">
<h2>Stylistic Guidelines<a class="headerlink" href="#stylistic-guidelines" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Set up your editor to remove trailing whitespace.  Follow <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP08</a>.  Check code with pyflakes / flake8.</p></li>
<li><p>Use numpy data types instead of strings (<code class="docutils literal notranslate"><span class="pre">np.uint8</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">&quot;uint8&quot;</span></code>).</p></li>
<li><p>Use the following import conventions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">ndimage</span> <span class="k">as</span> <span class="n">ndi</span>

<span class="c1"># only in Cython code</span>
<span class="n">cimport</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">cnp</span>
<span class="n">cnp</span><span class="o">.</span><span class="n">import_array</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p>When documenting array parameters, use <code class="docutils literal notranslate"><span class="pre">image</span> <span class="pre">:</span> <span class="pre">(M,</span> <span class="pre">N)</span> <span class="pre">ndarray</span></code>
and then refer to <code class="docutils literal notranslate"><span class="pre">M</span></code> and <code class="docutils literal notranslate"><span class="pre">N</span></code> in the docstring, if necessary.</p></li>
<li><p>Refer to array dimensions as (plane), row, column, not as x, y, z. See
<a class="reference internal" href="user_guide/numpy_images.html#numpy-images-coordinate-conventions"><span class="std std-ref">Coordinate conventions</span></a>
in the user guide for more information.</p></li>
<li><p>Functions should support all input image dtypes.  Use utility functions such
as <code class="docutils literal notranslate"><span class="pre">img_as_float</span></code> to help convert to an appropriate type.  The output
format can be whatever is most efficient.  This allows us to string together
several functions into a pipeline, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hough</span><span class="p">(</span><span class="n">canny</span><span class="p">(</span><span class="n">my_image</span><span class="p">))</span>
</pre></div>
</div>
</li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">Py_ssize_t</span></code> as data type for all indexing, shape and size variables
in C/C++ and Cython code.</p></li>
<li><p>Use relative module imports, i.e. <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">.._shared</span> <span class="pre">import</span> <span class="pre">xyz</span></code> rather than
<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">skimage._shared</span> <span class="pre">import</span> <span class="pre">xyz</span></code>.</p></li>
<li><p>Wrap Cython code in a pure Python function, which defines the API. This
improves compatibility with code introspection tools, which are often not
aware of Cython code.</p></li>
<li><p>For Cython functions, release the GIL whenever possible, using
<code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">nogil:</span></code>.</p></li>
</ul>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">scikit-image</span></code> has an extensive test suite that ensures correct
execution on your system.  The test suite has to pass before a pull
request can be merged, and tests should be added to cover any
modifications to the code base.</p>
<p>We make use of the <a class="reference external" href="https://docs.pytest.org/en/latest/">pytest</a>
testing framework, with tests located in the various
<code class="docutils literal notranslate"><span class="pre">skimage/submodule/tests</span></code> folders.</p>
<p>To use <code class="docutils literal notranslate"><span class="pre">pytest</span></code>, ensure that Cython extensions are built and that
the library is installed in development mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install -e .
</pre></div>
</div>
<p>Now, run all tests using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ PYTHONPATH=. pytest skimage
</pre></div>
</div>
<p>Or the tests for a specific submodule:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ PYTHONPATH=. pytest skimage/morphology
</pre></div>
</div>
<p>Or tests from a specific file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ PYTHONPATH=. pytest skimage/morphology/tests/test_grey.py
</pre></div>
</div>
<p>Or a single test within that file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ PYTHONPATH=. pytest skimage/morphology/tests/test_grey.py::test_3d_fallback_black_tophat
</pre></div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">--doctest-modules</span></code> to run doctests.
For example, run all tests and all doctests using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ PYTHONPATH=. pytest --doctest-modules skimage
</pre></div>
</div>
</div>
<div class="section" id="test-coverage">
<h2>Test coverage<a class="headerlink" href="#test-coverage" title="Permalink to this headline">¶</a></h2>
<p>Tests for a module should ideally cover all code in that module,
i.e., statement coverage should be at 100%.</p>
<p>To measure the test coverage, install
<a class="reference external" href="https://pytest-cov.readthedocs.io/en/latest/">pytest-cov</a>
(using <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pytest-cov</span></code>) and then run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make coverage
</pre></div>
</div>
<p>This will print a report with one line for each file in <a class="reference internal" href="api/skimage.html#module-skimage" title="skimage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">skimage</span></code></a>,
detailing the test coverage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Name</span>                                             <span class="n">Stmts</span>   <span class="n">Exec</span>  <span class="n">Cover</span>   <span class="n">Missing</span>
<span class="o">------------------------------------------------------------------------------</span>
<span class="n">skimage</span><span class="o">/</span><span class="n">color</span><span class="o">/</span><span class="n">colorconv</span>                             <span class="mi">77</span>     <span class="mi">77</span>   <span class="mi">100</span><span class="o">%</span>
<span class="n">skimage</span><span class="o">/</span><span class="nb">filter</span><span class="o">/</span><span class="fm">__init__</span>                              <span class="mi">1</span>      <span class="mi">1</span>   <span class="mi">100</span><span class="o">%</span>
<span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="activate-travis-ci-for-your-fork-optional">
<h2>Activate Travis-CI for your fork (optional)<a class="headerlink" href="#activate-travis-ci-for-your-fork-optional" title="Permalink to this headline">¶</a></h2>
<p>Travis-CI checks all unit tests in the project to prevent breakage.</p>
<p>Before sending a pull request, you may want to check that Travis-CI
successfully passes all tests. To do so,</p>
<ul class="simple">
<li><p>Go to <a class="reference external" href="https://travis-ci.org/">Travis-CI</a> and follow the Sign In link at
the top</p></li>
<li><p>Go to your <a class="reference external" href="https://travis-ci.org/profile">profile page</a> and switch on
your scikit-image fork</p></li>
</ul>
<p>It corresponds to steps one and two in
<a class="reference external" href="https://docs.travis-ci.com/user/tutorial/#to-get-started-with-travis-ci-using-github">Travis-CI documentation</a>
(Step three is already done in scikit-image).</p>
<p>Thus, as soon as you push your code to your fork, it will trigger Travis-CI,
and you will receive an email notification when the process is done.</p>
<p>Every time Travis is triggered, it also calls on <a class="reference external" href="https://codecov.io">Codecov</a> to inspect the current test overage.</p>
</div>
<div class="section" id="building-docs">
<h2>Building docs<a class="headerlink" href="#building-docs" title="Permalink to this headline">¶</a></h2>
<p>To build docs, run <code class="docutils literal notranslate"><span class="pre">make</span></code> from the <code class="docutils literal notranslate"><span class="pre">doc</span></code> directory. <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">help</span></code> lists
all targets. For example, to build the HTML documentation, you can run:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>make html
</pre></div>
</div>
<p>Then, all the HTML files will be generated in <code class="docutils literal notranslate"><span class="pre">scikit-image/doc/build/html/</span></code>.
To rebuild a full clean documentation, run:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>make clean
make html
</pre></div>
</div>
<div class="section" id="requirements">
<h3>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> and LaTeX are needed to build
the documentation.</p>
<p><strong>Sphinx:</strong></p>
<p>Sphinx and other python packages needed to build the documentation
can be installed using: <code class="docutils literal notranslate"><span class="pre">scikit-image/requirements/docs.txt</span></code> file.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pip install -r requirements/docs.txt
</pre></div>
</div>
<p><strong>LaTeX Ubuntu:</strong></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo apt-get install -qq texlive texlive-latex-extra dvipng
</pre></div>
</div>
<p><strong>LaTeX Mac:</strong></p>
<p>Install the full <a class="reference external" href="https://www.tug.org/mactex/">MacTex</a> installation or
install the smaller
<a class="reference external" href="https://www.tug.org/mactex/morepackages.html">BasicTex</a> and add <em>ucs</em>
and <em>dvipng</em> packages:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo tlmgr install ucs dvipng
</pre></div>
</div>
</div>
<div class="section" id="fixing-warnings">
<h3>Fixing Warnings<a class="headerlink" href="#fixing-warnings" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>“citation not found: R###” There is probably an underscore after a
reference in the first line of a docstring (e.g. [1]_). Use this
method to find the source file: $ cd doc/build; grep -rin R####</p></li>
<li><p>“Duplicate citation R###, other instance in…”” There is probably a
[2] without a [1] in one of the docstrings</p></li>
<li><p>Make sure to use pre-sphinxification paths to images (not the
_images directory)</p></li>
</ul>
</div>
<div class="section" id="auto-generating-dev-docs">
<h3>Auto-generating dev docs<a class="headerlink" href="#auto-generating-dev-docs" title="Permalink to this headline">¶</a></h3>
<p>This set of instructions was used to create
scikit-image/tools/deploy-docs.sh</p>
<ul class="simple">
<li><p>Go to Github account settings -&gt; personal access tokens</p></li>
<li><p>Create a new token with access rights <code class="docutils literal notranslate"><span class="pre">public_repo</span></code> and
<code class="docutils literal notranslate"><span class="pre">user:email</span> <span class="pre">only</span></code></p></li>
<li><p>Install the travis command line tool: <code class="docutils literal notranslate"><span class="pre">gem</span> <span class="pre">install</span> <span class="pre">travis</span></code>. On OSX,
you can get gem via <code class="docutils literal notranslate"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">ruby</span></code>.</p></li>
<li><p>Take then token generated by Github and run
<code class="docutils literal notranslate"><span class="pre">travis</span> <span class="pre">encrypt</span> <span class="pre">GH_TOKEN=&lt;token&gt;</span></code> from inside a scikit-image repo</p></li>
<li><p>Paste the output into the secure: field of <code class="docutils literal notranslate"><span class="pre">.travis.yml</span></code>.</p></li>
<li><p>The decrypted GH_TOKEN env var will be available for travis scripts</p></li>
</ul>
<p><a class="reference external" href="https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line">https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line</a>
<a class="reference external" href="https://docs.travis-ci.com/user/encryption-keys/">https://docs.travis-ci.com/user/encryption-keys/</a></p>
</div>
</div>
<div class="section" id="deprecation-cycle">
<h2>Deprecation cycle<a class="headerlink" href="#deprecation-cycle" title="Permalink to this headline">¶</a></h2>
<p>If the behavior of the library has to be changed, a deprecation cycle must be
followed to warn users.</p>
<ul>
<li><p>a deprecation cycle is <em>not</em> necessary when:</p>
<blockquote>
<div><ul class="simple">
<li><p>adding a new function, or</p></li>
<li><p>adding a new keyword argument to the <em>end</em> of a function signature, or</p></li>
<li><p>fixing what was buggy behavior</p></li>
</ul>
</div></blockquote>
</li>
<li><dl class="simple">
<dt>a deprecation cycle is necessary for <em>any breaking API change</em>, meaning a</dt><dd><p>change where the function, invoked with the same arguments, would return a
different result after the change. This includes:</p>
<ul class="simple">
<li><p>changing the order of arguments or keyword arguments, or</p></li>
<li><p>adding arguments or keyword arguments to a function, or</p></li>
<li><p>changing a function’s name or submodule, or</p></li>
<li><p>changing the default value of a function’s arguments.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Usually, our policy is to put in place a deprecation cycle over two releases.</p>
<p>For the sake of illustration, we consider the modification of a default value in
a function signature. In version N (therefore, next release will be N+1), we
have</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">a_function</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">rescale</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">do_something</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">rescale</span><span class="o">=</span><span class="n">rescale</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>
</pre></div>
</div>
<p>that has to be changed to</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">a_function</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">rescale</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">rescale</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">warn</span><span class="p">(</span><span class="s1">&#39;The default value of rescale will change &#39;</span>
             <span class="s1">&#39;to `False` in version N+3.&#39;</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">rescale</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">do_something</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">rescale</span><span class="o">=</span><span class="n">rescale</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>
</pre></div>
</div>
<p>and in version N+3</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">a_function</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">rescale</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">do_something</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">rescale</span><span class="o">=</span><span class="n">rescale</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>
</pre></div>
</div>
<p>Here is the process for a 2-release deprecation cycle:</p>
<ul class="simple">
<li><p>In the signature, set default to <em class="xref py py-obj">None</em>, and modify the docstring to specify
that it’s <em class="xref py py-obj">True</em>.</p></li>
<li><p>In the function, _if_ rescale is set to <em class="xref py py-obj">None</em>, set to <em class="xref py py-obj">True</em> and warn that the
default will change to <em class="xref py py-obj">False</em> in version N+3.</p></li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">doc/release/release_dev.rst</span></code>, under deprecations, add “In
<em class="xref py py-obj">a_function</em>, the <em class="xref py py-obj">rescale</em> argument will default to <em class="xref py py-obj">False</em> in N+3.”</p></li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">TODO.txt</span></code>, create an item in the section related to version N+3 and write
“change rescale default to False in a_function”.</p></li>
</ul>
<p>Note that the 2-release deprecation cycle is not a strict rule and in some
cases, the developers can agree on a different procedure upon justification
(like when we can’t detect the change, or it involves moving or deleting an
entire function for example).</p>
<p>Scikit-image uses warnings to highlight changes in its API so that users may
update their code accordingly. The <code class="docutils literal notranslate"><span class="pre">stacklevel</span></code> argument sets the location in
the callstack where the warnings will point. In most cases, it is appropriate
to set the <code class="docutils literal notranslate"><span class="pre">stacklevel</span></code> to <code class="docutils literal notranslate"><span class="pre">2</span></code>.  When warnings originate from helper
routines internal to the scikit-image library, it is may be more appropriate to
set the <code class="docutils literal notranslate"><span class="pre">stacklevel</span></code> to <code class="docutils literal notranslate"><span class="pre">3</span></code>. For more information, see the documentation of
the <a class="reference external" href="https://docs.python.org/3/library/warnings.html#warnings.warn">warn</a>
function in the Python standard library.</p>
<p>To test if your warning is being emitted correctly, try calling the function
from an IPython console. It should point you to the console input itself
instead of being emitted by the files in the scikit-image library.</p>
<ul class="simple">
<li><p><strong>Good</strong>: <code class="docutils literal notranslate"><span class="pre">ipython:1:</span> <span class="pre">UserWarning:</span> <span class="pre">...</span></code></p></li>
<li><p><strong>Bad</strong>: <code class="docutils literal notranslate"><span class="pre">scikit-image/skimage/measure/_structural_similarity.py:155:</span> <span class="pre">UserWarning:</span></code></p></li>
</ul>
</div>
<div class="section" id="bugs">
<h2>Bugs<a class="headerlink" href="#bugs" title="Permalink to this headline">¶</a></h2>
<p>Please <a class="reference external" href="https://github.com/scikit-image/scikit-image/issues">report bugs on GitHub</a>.</p>
</div>
<div class="section" id="benchmarks">
<h2>Benchmarks<a class="headerlink" href="#benchmarks" title="Permalink to this headline">¶</a></h2>
<p>While not mandatory for most pull requests, we ask that performance related
PRs include a benchmark in order to clearly depict the use-case that is being
optimized for. A historical view of our snapshots can be found on
at the following <a class="reference external" href="https://pandas.pydata.org/speed/scikit-image/">website</a>.</p>
<p>In this section we will review how to setup the benchmarks,
and three commands <code class="docutils literal notranslate"><span class="pre">asv</span> <span class="pre">dev</span></code>, <code class="docutils literal notranslate"><span class="pre">asv</span> <span class="pre">run</span></code> and <code class="docutils literal notranslate"><span class="pre">asv</span> <span class="pre">continuous</span></code>.</p>
<div class="section" id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<p>Begin by installing <a class="reference external" href="https://asv.readthedocs.io/en/stable/">airspeed velocity</a>
in your development environment. Prior to installation, be sure to activate your
development environment, then if using <code class="docutils literal notranslate"><span class="pre">venv</span></code> you may install the requirement with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="n">skimage</span><span class="o">-</span><span class="n">dev</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">asv</span>
</pre></div>
</div>
<p>If you are using conda, then the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">skimage</span><span class="o">-</span><span class="n">dev</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">asv</span>
</pre></div>
</div>
<p>is more appropriate. Once installed, it is useful to run the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">asv</span> <span class="n">machine</span>
</pre></div>
</div>
<p>To let airspeed velocity know more information about your machine.</p>
</div>
<div class="section" id="writing-a-benchmark">
<h3>Writing a benchmark<a class="headerlink" href="#writing-a-benchmark" title="Permalink to this headline">¶</a></h3>
<p>To write  benchmark, add a file in the <code class="docutils literal notranslate"><span class="pre">benchmarks</span></code> directory which contains a
a class with one <code class="docutils literal notranslate"><span class="pre">setup</span></code> method and at least one method prefixed with <code class="docutils literal notranslate"><span class="pre">time_</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">time_</span></code> method should only contain code you wish to benchmark.
Therefore it is useful to move everything that prepares the benchmark scenario
into the <code class="docutils literal notranslate"><span class="pre">setup</span></code> method. This function is called before calling a <code class="docutils literal notranslate"><span class="pre">time_</span></code>
method and its execution time is not factored into the benchmarks.</p>
<p>Take for example the <code class="docutils literal notranslate"><span class="pre">TransformSuite</span></code> benchmark:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">skimage</span> <span class="kn">import</span> <span class="n">transform</span>

<span class="k">class</span> <span class="nc">TransformSuite</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Benchmark for transform routines in scikit-image.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">))</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">1500</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">[</span><span class="n">idx</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span>

    <span class="k">def</span> <span class="nf">time_hough_line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result1</span><span class="p">,</span> <span class="n">result2</span><span class="p">,</span> <span class="n">result3</span> <span class="o">=</span> <span class="n">transform</span><span class="o">.</span><span class="n">hough_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">)</span>
</pre></div>
</div>
<p>Here, the creation of the image is completed in the <code class="docutils literal notranslate"><span class="pre">setup</span></code> method, and not
included in the reported time of the benchmark.</p>
<p>It is also possible to benchmark features such as peak memory usage. To learn
more about the features of <em class="xref py py-obj">asv</em>, please refer to the official
<a class="reference external" href="https://asv.readthedocs.io/en/latest/writing_benchmarks.html">airpseed velocity documentation</a>.</p>
</div>
<div class="section" id="testing-the-benchmarks-locally">
<h3>Testing the benchmarks locally<a class="headerlink" href="#testing-the-benchmarks-locally" title="Permalink to this headline">¶</a></h3>
<p>Prior to running the true benchmark, it is often worthwhile to test that the
code is free of typos. To do so, you may use the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">asv</span> <span class="n">dev</span> <span class="o">-</span><span class="n">b</span> <span class="n">TransformSuite</span>
</pre></div>
</div>
<p>Where the <code class="docutils literal notranslate"><span class="pre">TransformSuite</span></code> above will be run once in your current environment
to test that everything is in order.</p>
</div>
<div class="section" id="running-your-benchmark">
<h3>Running your benchmark<a class="headerlink" href="#running-your-benchmark" title="Permalink to this headline">¶</a></h3>
<p>The command above is fast, but doesn’t test the performance of the code
adequately. To do that you may want to run the benchmark in your current
environment to see the performance of your change as you are developing new
features. The command <code class="docutils literal notranslate"><span class="pre">asv</span> <span class="pre">run</span> <span class="pre">-E</span> <span class="pre">existing</span></code> will specify that you wish to run
the benchmark in your existing environment. This will save a significant amount
of time since building scikit-image can be a time consuming task:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">asv</span> <span class="n">run</span> <span class="o">-</span><span class="n">E</span> <span class="n">existing</span> <span class="o">-</span><span class="n">b</span> <span class="n">TransformSuite</span>
</pre></div>
</div>
</div>
<div class="section" id="comparing-results-to-master">
<h3>Comparing results to master<a class="headerlink" href="#comparing-results-to-master" title="Permalink to this headline">¶</a></h3>
<p>Often, the goal of a PR is to compare the results of the modifications in terms
speed to a snapshot of the code that is in the master branch of the
<code class="docutils literal notranslate"><span class="pre">scikit-image</span></code> repository. The command <code class="docutils literal notranslate"><span class="pre">asv</span> <span class="pre">continuous</span></code> is of help here:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">asv</span> <span class="n">continuous</span> <span class="n">master</span> <span class="o">-</span><span class="n">b</span> <span class="n">TransformSuite</span>
</pre></div>
</div>
<p>This call will build out the environments specified in the <code class="docutils literal notranslate"><span class="pre">asv.conf.json</span></code>
file and compare the performance of the benchmark between your current commit
and the code in the master branch.</p>
<p>The output may look something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ asv continuous master -b TransformSuite
· Creating environments
· Discovering benchmarks
·· Uninstalling from conda-py3.7-cython-numpy1.15-scipy
·· Installing 544c0fe3 &lt;benchmark_docs&gt; into conda-py3.7-cython-numpy1.15-scipy.
· Running 4 total benchmarks (2 commits * 2 environments * 1 benchmarks)
[  0.00%] · For scikit-image commit 37c764cb &lt;benchmark_docs~1&gt; (round 1/2):
[...]
[100.00%] ··· ...ansform.TransformSuite.time_hough_line           33.2±2ms

BENCHMARKS NOT SIGNIFICANTLY CHANGED.
</pre></div>
</div>
<p>In this case, the differences between HEAD and master are not significant
enough for airspeed velocity to report.</p>
</div>
</div>
</div>


        </div>
    </div>
    <div class="well footer" role="contentinfo">
        <small>
            &copy; Copyright the scikit-image development team.
            Created using <a href="https://getbootstrap.com/">Bootstrap</a> and <a href="https://www.sphinx-doc.org/">Sphinx</a>.
        </small>
    </div>
</body>
</html>


<!-- Matomo -->
<script type="text/javascript">
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
  _paq.push(["setCookieDomain", "*.scikit-image.org"]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://scikit-image.matomo.cloud/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src='//cdn.matomo.cloud/scikit-image.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->