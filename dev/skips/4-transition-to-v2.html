
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>SKIP 4 — Transitioning to scikit-image 2.0 &#8212; skimage 0.24.1rc0.dev0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css?v=4340df76" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="../_static/documentation_options.js?v=a22486ce"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script data-domain="scikit-image.org" defer="defer" src="https://views.scientific-python.org/js/script.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'skips/4-transition-to-v2';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.3';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://scikit-image.org/docs/dev/_static/version_switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SKIP X — Template and Instructions" href="template.html" />
    <link rel="prev" title="SKIP 3 — Transitioning to scikit-image 1.0" href="3-transition-to-v1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

   

<a class="navbar-brand logo" href="https://scikit-image.org">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="scikit-image's logo, showing a snake's head overlayed with green and orange"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="scikit-image's logo, showing a snake's head overlayed with green and orange"/>`);</script>
  
  
    <p class="title logo__title">scikit-image</p>
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../user_guide/index.html">
    User guide
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../api/api.html">
    API reference
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../release_notes/index.html">
    Release notes
  </a>
</li>


<li class="nav-item pst-header-nav-item current active">
  <a class="nav-link nav-internal" href="../development/index.html">
    Development
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../about/index.html">
    About
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/scikit-image/scikit-image" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/scikit-image/" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-solid fa-box fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../user_guide/index.html">
    User guide
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../api/api.html">
    API reference
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../release_notes/index.html">
    Release notes
  </a>
</li>


<li class="nav-item pst-header-nav-item current active">
  <a class="nav-link nav-internal" href="../development/index.html">
    Development
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../about/index.html">
    About
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/scikit-image/scikit-image" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/scikit-image/" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-solid fa-box fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../development/contribute.html">How to contribute to scikit-image</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../gitwash/index.html">Working with <em>scikit-image</em> source code</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../gitwash/git_intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gitwash/git_install.html">Install git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gitwash/following_latest.html">Following the latest source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gitwash/patching.html">Making a patch</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../gitwash/git_development.html">Git for development</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../gitwash/forking_hell.html">Making your own copy (fork) of scikit-image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gitwash/set_up_fork.html">Set up your fork</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gitwash/configure_git.html">Configure git</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gitwash/development_workflow.html">Development workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gitwash/maintainer_workflow.html">Maintainer workflow</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../gitwash/git_resources.html">git resources</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../development/core_developer.html">Core Developer Guide</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">scikit-image proposals (SKIPS)</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="0-skip-process.html">SKIP 0 — Purpose and Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="1-governance.html">SKIP 1 — scikit-image governance and decision-making</a></li>
<li class="toctree-l2"><a class="reference internal" href="2-values.html">SKIP 2 — scikit-image mission statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="3-transition-to-v1.html">SKIP 3 — Transitioning to scikit-image 1.0</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">SKIP 4 — Transitioning to scikit-image 2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="template.html">SKIP X — Template and Instructions</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../development/index.html" class="nav-link">Development</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">scikit-image proposals (SKIPS)</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">SKIP 4 —...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="skip-4-transitioning-to-scikit-image-2-0">
<span id="skip-4-transition-v2"></span><h1>SKIP 4 — Transitioning to scikit-image 2.0<a class="headerlink" href="#skip-4-transitioning-to-scikit-image-2-0" title="Link to this heading">#</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Juan Nunez-Iglesias &lt;<a class="reference external" href="mailto:juan&#46;nunez-iglesias&#37;&#52;&#48;monash&#46;edu">juan<span>&#46;</span>nunez-iglesias<span>&#64;</span>monash<span>&#46;</span>edu</a>&gt;</p>
</dd>
<dt class="field-even">Author<span class="colon">:</span></dt>
<dd class="field-even"><p>Lars Grüter</p>
</dd>
<dt class="field-odd">Status<span class="colon">:</span></dt>
<dd class="field-odd"><p>Draft</p>
</dd>
<dt class="field-even">Type<span class="colon">:</span></dt>
<dd class="field-even"><p>Standards Track</p>
</dd>
<dt class="field-odd">Created<span class="colon">:</span></dt>
<dd class="field-odd"><p>2022-04-08</p>
</dd>
<dt class="field-even">Resolved<span class="colon">:</span></dt>
<dd class="field-even"><p>&lt;null&gt;</p>
</dd>
<dt class="field-odd">Resolution<span class="colon">:</span></dt>
<dd class="field-odd"><p>&lt;null&gt;</p>
</dd>
<dt class="field-even">Version effective<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<section id="abstract">
<h2>Abstract<a class="headerlink" href="#abstract" title="Link to this heading">#</a></h2>
<p>scikit-image is preparing to release version 1.0. This <a class="reference internal" href="3-transition-to-v1.html#skip-3-transition-v1"><span class="std std-ref">was seen</span></a> as an opportunity to clean up the API, including
backwards incompatible changes. Some of these changes involve changing return
values without changing function signatures, which can ordinarily only be done
by adding an otherwise useless keyword argument (such as
<code class="docutils literal notranslate"><span class="pre">new_return_style=True</span></code>) whose default value changes over several releases.
The result is <em>still</em> a backwards incompatible change, but made over a longer
time period.</p>
<p>Despite being in beta and in a 0.x series of releases, scikit-image is used
extremely broadly, and any backwards incompatible changes are likely to be
disruptive. Given the rejection of <a class="reference internal" href="3-transition-to-v1.html#skip-3-transition-v1"><span class="std std-ref">SKIP-3</span></a>, this
document proposes an alternative pathway to create a new API. The new pathway
involves the following steps:</p>
<ul class="simple">
<li><p>Any pending deprecations that were scheduled for v0.20 and v0.21 are
finalised (the new API suggested by deprecation messages in v0.19 becomes
the only API).</p></li>
<li><p>This is released as 1.0.</p></li>
<li><p>At this point, the branch <code class="docutils literal notranslate"><span class="pre">main</span></code> changes the package and import names to
<code class="docutils literal notranslate"><span class="pre">skimage2</span></code>, and the API is free to evolve.</p></li>
</ul>
<p>Further motivation for the API changes is explained below, and largely
duplicated from <a class="reference internal" href="3-transition-to-v1.html#skip-3-transition-v1"><span class="std std-ref">SKIP-3</span></a>.</p>
</section>
<section id="motivation-and-scope">
<h2>Motivation and Scope<a class="headerlink" href="#motivation-and-scope" title="Link to this heading">#</a></h2>
<p>scikit-image has grown organically over the past 12+ years, with functionality
being added by a broad community of contributors from different backgrounds.
This has resulted in various parts of the API being inconsistent: for example,
<code class="docutils literal notranslate"><span class="pre">skimage.transform.warp</span></code> inverts the order of coordinates, so that a
translation of (45, 32) actually moves the values in a NumPy array by 32 along
the 0th axis, and 45 along the 1st, <em>but only in 2D</em>. In 3D, a translation of
(45, 32, 77) moves the values in each axis by the number in the corresponding
position.</p>
<p>Additionally, as our user base has grown, it has become apparent that certain
early API choices turned out to be more confusing than helpful. For example,
scikit-image will automatically convert images to various data types,
<em>rescaling them in the process</em>. A uint8 image in the range [0, 255] will
automatically be converted to a float64 image in [0, 1]. This might initially
seem reasonable, but, for consistency, uint16 images in [0, 65535] are rescaled
to [0, 1] floats, and uint16 images with 12-bit range in [0, 4095], which are
common in microscopy, are rescaled to [0, 0.0625]. These silent conversions
have resulted in much user confusion.</p>
<p>Changing this convention would require adding a <code class="docutils literal notranslate"><span class="pre">preserve_range=</span></code> keyword
argument to almost <em>all</em> scikit-image functions, whose default value would
change from False to True over 4 versions. Eventually, the change would be
backwards-incompatible, no matter how gentle we made the deprecation curve.</p>
<p>Other major functions, such as <code class="docutils literal notranslate"><span class="pre">skimage.measure.regionprops</span></code>, could use an
API tweak, for example by returning a dictionary mapping labels to properties,
rather than a list.</p>
<p>Given the accumulation of potential API changes that have turned out to be too
burdensome and noisy to fix with a standard deprecation cycle, principally
because they involve changing function outputs for the same inputs, it makes
sense to make all those changes in a transition to version 2.0.</p>
<p>Although semantic versioning <a class="footnote-reference brackets" href="#id13" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a> technically allows API changes with major
version bumps, we must acknowledge that (1) an enormous number of projects
depend on scikit-image and would thus be affected by backwards incompatible
changes, and (2) it is not yet common practice in the scientific Python
community to put upper version bounds on dependencies, so it is very unlikely
that anyone used <code class="docutils literal notranslate"><span class="pre">scikit-image&lt;1.*</span></code> or <code class="docutils literal notranslate"><span class="pre">scikit-image&lt;2.*</span></code> in their
dependency list. This implies that releasing a version 2.0 of scikit-image with
breaking API changes would disrupt a large number of users. Additionally, such
wide-sweeping changes would invalidate a large number of StackOverflow and
other user guides. Finally, releasing a new version with a large number of
changes prevents users from gradually migrating to the new API: an old code
base must be migrated wholesale because it is impossible to depend on both
versions of the API. This would represent an enormous barrier of entry for many
users.</p>
<p>Given the above, this SKIP proposes that we release a new package where we can
apply everything we have learned from over a decade of development, without
disrupting our existing user base.</p>
</section>
<section id="detailed-description">
<h2>Detailed description<a class="headerlink" href="#detailed-description" title="Link to this heading">#</a></h2>
<p>It is beyond the scope of this document to list all of the proposed API changes
for skimage2, many of which have yet to be decided upon. Indeed, the
scope and ambition of the 2.0 transition could grow if this SKIP is accepted.
This SKIP instead proposes a mechanism for managing the transition without
breaking users’ code. A meta-issue tracking the proposed changes can be found
on GitHub, scikit-image/scikit-image#5439 <a class="footnote-reference brackets" href="#id14" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></a>. Some examples are briefly
included below for illustrative purposes:</p>
<ul class="simple">
<li><p>Stop rescaling input arrays when the dtype must be coerced to float.</p></li>
<li><p>Stop swapping coordinate axis order in different contexts, such as drawing or
warping.</p></li>
<li><p>Allow automatic return of non-NumPy types, so long as they are coercible to
NumPy with <code class="docutils literal notranslate"><span class="pre">numpy.asarray</span></code>.</p></li>
<li><p>Harmonizing similar parameters in different functions to have the same name;
for example, we currently have <code class="docutils literal notranslate"><span class="pre">random_seed</span></code>, <code class="docutils literal notranslate"><span class="pre">random_state</span></code>, <code class="docutils literal notranslate"><span class="pre">seed</span></code>,
or <code class="docutils literal notranslate"><span class="pre">sample_seed</span></code> in different functions, all to mean the same thing.</p></li>
<li><p>Changing <code class="docutils literal notranslate"><span class="pre">measure.regionprops</span></code> to return a dictionary instead of a list.</p></li>
<li><p>Combine functions that have the same purpose, such as <code class="docutils literal notranslate"><span class="pre">watershed</span></code>,
<code class="docutils literal notranslate"><span class="pre">slic</span></code>, or <code class="docutils literal notranslate"><span class="pre">felzenschwalb</span></code>, into a common namespace. This would make it
easier for new users to find out which functions they should try out for a
specific task. It would also help the community grow around common APIs,
where now scikit-image APIs are essentially unique for each function.</p></li>
</ul>
<p>To make this transition with a minimum amount of user disruption, this SKIP
proposes releasing a new library, skimage2, that would replace the existing
library, <em>but only if users explicitly opt-in</em>. Additionally, by releasing a
new library, users could depend <em>both</em> on scikit-image (1.0) and on skimage2,
allowing users to migrate their code progressively.</p>
</section>
<section id="related-work">
<h2>Related Work<a class="headerlink" href="#related-work" title="Link to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> released 1.0.0 in January 2020, including many backwards-incompatible
API changes <a class="footnote-reference brackets" href="#id10" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>. <a class="reference external" href="https://docs.scipy.org/doc/scipy/index.html#module-scipy" title="(in SciPy v1.13.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy</span></code></a> released version 1.0 in 2017, but, given its stage of
maturity and position at the base of the scientific Python ecosystem, opted not
to make major breaking changes <a class="footnote-reference brackets" href="#id11" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a>. However, SciPy has adopted a policy of
adding upper-bounds on dependencies <a class="footnote-reference brackets" href="#id12" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a>, acknowledging that the ecosystem as a
whole makes backwards incompatible changes on a 2 version deprecation cycle.</p>
<p>Several libraries have successfully migrated their user community to a new
namespace with a version number on it, such as OpenCV (imported as <code class="docutils literal notranslate"><span class="pre">cv2</span></code>) and
BeautifulSoup (imported as <code class="docutils literal notranslate"><span class="pre">bs4</span></code>), Jinja (<code class="docutils literal notranslate"><span class="pre">jinja2</span></code>) and psycopg (currently
imported as <code class="docutils literal notranslate"><span class="pre">psycopg2</span></code>). Further afield, R’s ggplot is used as <code class="docutils literal notranslate"><span class="pre">ggplot2</span></code>.</p>
</section>
<section id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Link to this heading">#</a></h2>
<p>The details of the proposal are as follows:</p>
<ul class="simple">
<li><p>scikit-image 0.19 will be followed by scikit-image 1.0. Every deprecation
message will be removed from 1.0, and the API will be considered the
scikit-image 1.0 API.</p></li>
<li><p>After 1.0, the main branch will be changed to (a) change the import name to
skimage2, (b) change the package name to skimage2, and (c) change the version
number to 2.0-dev.</p></li>
<li><p>There will be <em>no</em> “scikit-image” package on PyPI with version 2.0. Users who
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">scikit-image</span></code> will always get the 1.x version of the package.
To install scikit-image 2.0, users will need to <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">skimage2</span></code>,
<code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">skimage2</span></code>, or similar.</p></li>
<li><p>After consensus has been reached on the new API, skimage2 will be released.</p></li>
<li><p>Following the release of skimage2, a release of scikit-image 1.1 is made. This
release is identical to 1.0 (including bugfixes) but will advise users to
either (a) upgrade to skimage2 or (b) pin the package to <code class="docutils literal notranslate"><span class="pre">scikit-image&lt;1.1</span></code>
to avoid the warning.</p></li>
<li><p>scikit-image 1.0.x and 1.1.x will receive critical bug fixes for an
unspecified period of time, depending on the severity of the bug and the
amount of effort involved.</p></li>
</ul>
</section>
<section id="backward-compatibility">
<h2>Backward compatibility<a class="headerlink" href="#backward-compatibility" title="Link to this heading">#</a></h2>
<p>This proposal breaks backward compatibility in numerous places in the library.
However, it does so in a new namespace, so that this proposal does not raise
backward compatibility concerns for our users. That said, the authors will
attempt to limit the number of backward incompatible changes to those likely to
substantially improve the overall user experience. It is anticipated that
porting <a class="reference internal" href="../api/skimage.html#module-skimage" title="skimage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">skimage</span></code></a> code to <em class="xref py py-obj">skimage2</em> will be a straightforward process
and we will publish a user guide for making the transition by the time of
the <em class="xref py py-obj">skimage2</em> release. Users will be notified about these resources - among
other things - by a warning in scikit-image 1.1.</p>
</section>
<section id="alternatives">
<h2>Alternatives<a class="headerlink" href="#alternatives" title="Link to this heading">#</a></h2>
<section id="releasing-the-new-api-in-the-same-package-using-semantic-versioning">
<h3>Releasing the new API in the same package using semantic versioning<a class="headerlink" href="#releasing-the-new-api-in-the-same-package-using-semantic-versioning" title="Link to this heading">#</a></h3>
<p>This is <a class="reference internal" href="3-transition-to-v1.html#skip-3-transition-v1"><span class="std std-ref">SKIP-3</span></a>, which was rejected after discussion
with the community.</p>
</section>
<section id="continuous-deprecation-over-multiple-versions">
<h3>Continuous deprecation over multiple versions<a class="headerlink" href="#continuous-deprecation-over-multiple-versions" title="Link to this heading">#</a></h3>
<p>This transition could occur gradually over many versions. For example, for
functions automatically converting and rescaling float inputs, we could add a
<code class="docutils literal notranslate"><span class="pre">preserve_range</span></code> keyword argument that would initially default to False, but
the default value of False would be deprecated, with users getting a warning to
switch to True. After the switch, we could (optionally) deprecate the
argument, arriving, after a further two releases, at the same place:
scikit-image no longer rescales data automatically, there are no
unnecessary keyword arguments lingering all over the API.</p>
<p>Of course, this kind of operation would have to be done simultaneously over all
of the above proposed changes.</p>
<p>Ultimately, the core team felt that this approach generates more work for both
the scikit-image developers and the developers of downstream libraries, for
dubious benefit: ultimately, later versions of scikit-image will still be
incompatible with prior versions, although over a longer time scale.</p>
</section>
<section id="a-single-package-containing-both-versions">
<h3>A single package containing both versions<a class="headerlink" href="#a-single-package-containing-both-versions" title="Link to this heading">#</a></h3>
<p>Since the import name is changing, it would be possible to make a single
package with both the <code class="docutils literal notranslate"><span class="pre">skimage</span></code> and <code class="docutils literal notranslate"><span class="pre">skimage2</span></code> namespaces shipping
together, at least for some time. This option is attractive but it implies
longer-term maintenance of the 1.0 namespace, for which we might lack
maintainer time, or a long deprecation cycle for the 1.0 namespace, which would
ultimately result in a lot of unhappy users getting deprecation messages from
their scikit-image use.</p>
</section>
<section id="not-making-the-proposed-api-changes">
<h3>Not making the proposed API changes<a class="headerlink" href="#not-making-the-proposed-api-changes" title="Link to this heading">#</a></h3>
<p>Another possibility is to reject backwards incompatible API changes outright,
except in extreme cases. The core team feels that this is essentially
equivalent to pinning the library at 0.19.</p>
</section>
<section id="scikit-image2-as-the-new-package-name">
<h3>“scikit-image2” as the new package name<a class="headerlink" href="#scikit-image2-as-the-new-package-name" title="Link to this heading">#</a></h3>
<p>The authors acknowledge that the new names should be chosen with care to keep
the disruption to scikit-image’s user base and community as small as possible.
However, to protect users without upper version constraints from accidentally
upgrading to the new API, the package name <code class="docutils literal notranslate"><span class="pre">scikit-image</span></code> must be changed.
Changing the import name <code class="docutils literal notranslate"><span class="pre">skimage</span></code> is similarly advantageous because it allows
using both APIs in the same environment.</p>
<p>This document suggests just <code class="docutils literal notranslate"><span class="pre">skimage2</span></code> as the single new name for
scikit-image’s API version 2.0, both for the import name and the name on PyPI,
conda-forge and elsewhere. The following arguments were given in favor of this:</p>
<ul class="simple">
<li><p>Only one new name is introduced with the project thereby keeping the number of
associated names as low as possible.</p></li>
<li><p>With this change, the import and package name match.</p></li>
<li><p>Users might be confused whether they should install <code class="docutils literal notranslate"><span class="pre">scikit-image2</span></code> or
<code class="docutils literal notranslate"><span class="pre">scikit-image-2</span></code>. It was felt that <code class="docutils literal notranslate"><span class="pre">skimage2</span></code> avoids this confusion.</p></li>
<li><p>Users who know what <code class="docutils literal notranslate"><span class="pre">skimage</span></code> is and see <code class="docutils literal notranslate"><span class="pre">skimage2</span></code> in an install
instruction somewhere, will likely be able to infer that it is a newer version
of the package.</p></li>
<li><p>It is unlikely that users will be aware of the new API 2.0 but not of the new
package name. A proposed release of scikit-image 1.1 might point users to
<code class="docutils literal notranslate"><span class="pre">skimage2</span></code> during the installation and update process and thereby clearly
communicate the successors name.</p></li>
</ul>
<p>The following arguments were made against naming the package <code class="docutils literal notranslate"><span class="pre">skimage2</span></code>:</p>
<ul class="simple">
<li><p>According to the “Principle of least astonishment”, <code class="docutils literal notranslate"><span class="pre">scikit-image2</span></code> might be
considered the least surprising evolution of the package name.</p></li>
<li><p>It breaks with the convention that is followed by other scikits including
scikit-image. (It was pointed out that this convention has not been true for
some time and introducing a version number in the name is a precedent anyway.)</p></li>
</ul>
<p>The earlier section “Related Work” describes how other projects dealt with
similar problems.</p>
</section>
</section>
<section id="discussion">
<h2>Discussion<a class="headerlink" href="#discussion" title="Link to this heading">#</a></h2>
<p>This SKIP is the result of discussion of <a class="reference internal" href="3-transition-to-v1.html#skip-3-transition-v1"><span class="std std-ref">SKIP-3</span></a>. See
the “Resolution” section of that document for further background on the
motivation for this SKIP.</p>
</section>
<section id="resolution">
<h2>Resolution<a class="headerlink" href="#resolution" title="Link to this heading">#</a></h2>
</section>
<section id="references-and-footnotes">
<h2>References and Footnotes<a class="headerlink" href="#references-and-footnotes" title="Link to this heading">#</a></h2>
<p>All SKIPs should be declared as dedicated to the public domain with the CC0
license <a class="footnote-reference brackets" href="#id8" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, as in <em class="xref py py-obj">Copyright</em>, below, with attribution encouraged with CC0+BY
<a class="footnote-reference brackets" href="#id9" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id8" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id6">1</a>,<a role="doc-backlink" href="#id15">2</a>)</span>
<p>CC0 1.0 Universal (CC0 1.0) Public Domain Dedication,
<a class="reference external" href="https://creativecommons.org/publicdomain/zero/1.0/">https://creativecommons.org/publicdomain/zero/1.0/</a></p>
</aside>
<aside class="footnote brackets" id="id9" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id7">1</a>,<a role="doc-backlink" href="#id16">2</a>)</span>
<p><a class="reference external" href="https://dancohen.org/2013/11/26/cc0-by/">https://dancohen.org/2013/11/26/cc0-by/</a></p>
</aside>
<aside class="footnote brackets" id="id10" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">3</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/whatsnew/v1.0.0.html#backwards-incompatible-api-changes">https://pandas.pydata.org/pandas-docs/stable/whatsnew/v1.0.0.html#backwards-incompatible-api-changes</a></p>
</aside>
<aside class="footnote brackets" id="id11" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">4</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/release.1.0.0.html">https://docs.scipy.org/doc/scipy/reference/release.1.0.0.html</a></p>
</aside>
<aside class="footnote brackets" id="id12" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">5</a><span class="fn-bracket">]</span></span>
<p><a class="github reference external" href="https://github.com/scipy/scipy/pull/12862">scipy/scipy#12862</a></p>
</aside>
<aside class="footnote brackets" id="id13" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">6</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://semver.org/">https://semver.org/</a></p>
</aside>
<aside class="footnote brackets" id="id14" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">7</a><span class="fn-bracket">]</span></span>
<p><a class="github reference external" href="https://github.com/scikit-image/scikit-image/issues/5439">scikit-image/scikit-image#5439</a></p>
</aside>
</aside>
</section>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Link to this heading">#</a></h2>
<p>This document is dedicated to the public domain with the Creative Commons CC0
license <a class="footnote-reference brackets" href="#id8" id="id15" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>. Attribution to this source is encouraged where appropriate, as per
CC0+BY <a class="footnote-reference brackets" href="#id9" id="id16" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>.</p>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#abstract">Abstract</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#motivation-and-scope">Motivation and Scope</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#detailed-description">Detailed description</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#related-work">Related Work</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementation">Implementation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#backward-compatibility">Backward compatibility</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#alternatives">Alternatives</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#releasing-the-new-api-in-the-same-package-using-semantic-versioning">Releasing the new API in the same package using semantic versioning</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#continuous-deprecation-over-multiple-versions">Continuous deprecation over multiple versions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-single-package-containing-both-versions">A single package containing both versions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#not-making-the-proposed-api-changes">Not making the proposed API changes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#scikit-image2-as-the-new-package-name">“scikit-image2” as the new package name</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#discussion">Discussion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resolution">Resolution</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references-and-footnotes">References and Footnotes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#copyright">Copyright</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/skips/4-transition-to-v2.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2013-2024, the scikit-image team.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    <br/>
  </p>
</div>
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>